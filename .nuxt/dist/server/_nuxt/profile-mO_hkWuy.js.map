{"version":3,"file":"profile-mO_hkWuy.js","sources":["../../../../pages/profile.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-50 py-12\">\n    <div class=\"max-w-md mx-auto bg-white rounded-lg shadow-md p-6\">\n      <div class=\"text-center\">\n        <h1 class=\"text-2xl font-bold text-gray-900 mb-6\">Profil Pengguna</h1>\n        \n        <div v-if=\"pending\" class=\"text-gray-500\">\n          Loading...\n        </div>\n        \n        <div v-else-if=\"user\" class=\"space-y-4\">\n          <div class=\"flex justify-center\">\n            <img\n              :src=\"user.avatar_url || '/default-avatar.png'\"\n              :alt=\"user.username\"\n              class=\"w-20 h-20 rounded-full\"\n            >\n          </div>\n          \n          <div>\n            <p class=\"text-sm text-gray-500\">Username</p>\n            <p class=\"font-medium\">{{ user.username }}</p>\n          </div>\n          \n          <div>\n            <p class=\"text-sm text-gray-500\">Email</p>\n            <p class=\"font-medium\">{{ user.email }}</p>\n          </div>\n          \n          <div>\n            <p class=\"text-sm text-gray-500\">Provider</p>\n            <p class=\"font-medium capitalize\">{{ user.provider }}</p>\n          </div>\n          \n          <div class=\"flex space-x-4\">\n            <button\n              @click=\"refreshProfile\"\n              :disabled=\"refreshing\"\n              class=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50\"\n            >\n              {{ refreshing ? 'Refreshing...' : 'Refresh Profile' }}\n            </button>\n            \n            <button\n              @click=\"signOut\"\n              class=\"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700\"\n            >\n              Logout\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\ndefinePageMeta({\n  auth: true\n})\n\nconst { data: session, signOut } = useAuth()\nconst refreshing = ref(false)\n\nconst { data: user, pending, refresh } = await $fetch('/api/user/profile')\n\nconst refreshProfile = async () => {\n  refreshing.value = true\n  try {\n    await $fetch('/api/user/refresh', { method: 'POST' })\n    await refresh()\n  } catch (error) {\n    console.error('Error refreshing profile:', error)\n  } finally {\n    refreshing.value = false\n  }\n}\n</script>\n"],"names":["_withAsyncContext","_ssrRenderAttrs","_mergeProps","_unref","_ssrInterpolate"],"mappings":";;;;;;;;AA6DA,UAAM,EAAE,MAAM,SAAS,QAAA,IAAY,QAAQ;AACrC,UAAA,aAAa,IAAI,KAAK;AAEtB,UAAA,EAAE,MAAM,MAAM,SAAS,aAAkB,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,OAAO,mBAAmB,CAAA;;AA/DlE,YAAA,OAAAC,eAAAC,WAAA,EAAA,OAAM,mCAA+B,MAAA,CAAA,CAAA,kKAAA;AAKzB,UAAAC,MAAO,OAAA,GAAA;;iBAIFA,MAAI,IAAA,GAAA;2FAGb,OAAKA,MAAI,IAAA,EAAC,cAAU,qBAAA,kBACpB,OAAKA,MAAI,IAAA,EAAC,QAAQ,mHAOKC,eAAAD,MAAA,IAAA,EAAK,QAAQ,oFAKbC,eAAAD,MAAA,IAAA,EAAK,KAAK,kGAKCC,eAAAD,MAAA,IAAA,EAAK,QAAQ,uEAMrCA,MAAU,UAAA,CAAA,IAAA,cAAA,sHAGlBA,MAAU,UAAA,IAAA,kBAAA,iBAAA;;;;;;;;;;;;;;"}