import{g,r as h,j as x,c as i,o as l,a as e,k as y,l as s,t as n}from"./BT4ADfqi.js";const v={class:"min-h-screen bg-gray-50 py-12"},b={class:"max-w-md mx-auto bg-white rounded-lg shadow-md p-6"},w={class:"text-center"},k={key:0,class:"text-gray-500"},P={key:1,class:"space-y-4"},C={class:"flex justify-center"},B=["src","alt"],E={class:"font-medium"},j={class:"font-medium"},A={class:"font-medium capitalize"},L={class:"flex space-x-4"},N=["disabled"],V=g({__name:"profile",async setup(O){let a,d;const{data:R,signOut:c}=useAuth(),r=h(!1),{data:o,pending:f,refresh:m}=([a,d]=x(()=>$fetch("/api/user/profile")),a=await a,d(),a),p=async()=>{r.value=!0;try{await $fetch("/api/user/refresh",{method:"POST"}),await m()}catch(u){console.error("Error refreshing profile:",u)}finally{r.value=!1}};return(u,t)=>(l(),i("div",v,[e("div",b,[e("div",w,[t[4]||(t[4]=e("h1",{class:"text-2xl font-bold text-gray-900 mb-6"},"Profil Pengguna",-1)),s(f)?(l(),i("div",k," Loading... ")):s(o)?(l(),i("div",P,[e("div",C,[e("img",{src:s(o).avatar_url||"/default-avatar.png",alt:s(o).username,class:"w-20 h-20 rounded-full"},null,8,B)]),e("div",null,[t[1]||(t[1]=e("p",{class:"text-sm text-gray-500"},"Username",-1)),e("p",E,n(s(o).username),1)]),e("div",null,[t[2]||(t[2]=e("p",{class:"text-sm text-gray-500"},"Email",-1)),e("p",j,n(s(o).email),1)]),e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm text-gray-500"},"Provider",-1)),e("p",A,n(s(o).provider),1)]),e("div",L,[e("button",{onClick:p,disabled:s(r),class:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50"},n(s(r)?"Refreshing...":"Refresh Profile"),9,N),e("button",{onClick:t[0]||(t[0]=(..._)=>s(c)&&s(c)(..._)),class:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700"}," Logout ")])])):y("",!0)])])]))}});export{V as default};
